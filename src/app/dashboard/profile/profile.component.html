<div class="modal-dialog modal-xl">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="addviewInfoLabel">Profile</h5>
    </div>

    <ng-container *ngIf="loading; else content">
      <div class="modal-body p-3">
        <h4><img src="../../../assets/images/loading.gif" alt=""></h4>
      </div>
    </ng-container>

    <ng-template #content>
      <div class="modal-body p-3" *ngIf="userAvailable.length>0; else usernotavailable">
        <div class="col-md-12">
          <div class="col-md-3">
            <img [src]="employeeHistory.imagePath" alt="Profile" class="profile-img">
          </div>
          <div class="col-md-9">
            <div class="col-md-12 border-0">
              <h5 class="float-left"><label style="color: black;" class="mb-0">{{employeeHistory.fullName}} -
                  {{employeeHistory.employeeId}}</label></h5> &nbsp; <span> - ( {{employeeHistory.batch}} ) </span>
            </div>
            <div class="col-md-12 pb-2"> {{getdesignation(firstIndex.toDesignationId)}},
              {{getdepatments(firstIndex.toDepartmentId)}}</div>
            <div class="col-md-12 border-0"><i class="typcn typcn-phone"></i><label class="pt-1 pl-2"> <span
                  *ngIf="employeeHistory.mobileNo1">{{employeeHistory.mobileNo1}}</span>
                <span *ngIf="employeeHistory.mobileNo2">, {{employeeHistory.mobileNo2}}</span>
                <span *ngIf="employeeHistory.mobileNo3">, {{employeeHistory.mobileNo3}}</span></label></div>
            <div class="col-md-12 border-0"><i class="typcn typcn-mail" style="transform: rotate(0deg);"></i><label
                class="pt-2 pl-2" style="width:90%;">{{employeeHistory.personalEmail}},
                {{employeeHistory.officeEmail}}</label></div>
            <div class="col-md-12 border-0" style="line-height: 1.9;"><i class="typcn typcn-location"
                style="transform: rotate(0deg);"></i>
              <label class="pt-2 pl-2">
                {{employeeHistory.addressLine}},{{employeeHistory.city}} <br>
                {{employeeHistory.state}},
                {{employeeHistory.pincode}}
              </label>
            </div>
            <div class="col-md-12 border-0 my-2">
              <div class="col-md-4"><label> <b>DOB :</b> {{employeeHistory.dateOfBirth}}</label></div>
              <div class="col-md-4"><label> <b>DOJ :</b> {{employeeHistory.dateOfJoining}}</label></div>
              <div class="col-md-4"><label> <b>DOR :</b> {{employeeHistory.dateOfRetirement}}</label></div>
            </div>
          </div>

          <h5 class="modal-title col-md-12 pl-0 pt-2 mb-2 mt-5">Employee History</h5>
          <div id="accordion" *ngIf="hideHistory">
            <div class="card mt-0">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style="color: #fff;">
                    Previous Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">
                  <!-- history -->
                  <div *ngIf="previousData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>S.No</th>
                            <th>Posting In</th>
                            <th>Department</th>
                            <th>Designation</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of previousData; let i=index">
                            <td>{{i+1}}</td>
                            <!-- <td>{{ detail.postingIn }}</td> -->
                            <td>{{getPosition(detail.postingIn)}}</td>
                            <!-- <td>{{ detail.department }}</td> -->
                            <td>{{getdepatments(detail.department)}}</td>
                            <!-- <td>{{ detail.designation }}</td> -->
                            <td>{{getdesignation(detail.designation)}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion1" *ngIf="transferposting">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsetpd" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Transfer/Posting Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsetpd" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion1">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-transfer">Add Transfer /
                    Posting</button>
                  <div *ngIf="transferpostingdata.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Order Type</th>
                            <th>Order No</th>
                            <th>Order For</th>
                            <th>Date of Order</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <ng-container *ngIf="transferpostingdata.length > 0; else noRecords">
                            <tr *ngFor="let data of transferpostingdata; let i = index">
                              <td>{{i + 1}}</td>
                              <td>{{data.orderTypeCategoryCode}}</td>
                              <td>{{data.orderNumber}}</td>
                              <td>{{data.orderForCategoryCode}}</td>
                              <td>{{data.dateOfOrder | date:'dd/MM/YYYY'}}</td>
                              <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                              <td><span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                  data.approvedBy?.loginAs}})</span></td>
                              <td>{{data.approvalStatus? 'Approved':'Not Approved'}}</td>
                            </tr>
                          </ng-container>
                          <ng-template #noRecords>
                            <tr>
                              <td colspan="8" style="color: red;">No records found</td>
                            </tr>
                          </ng-template>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No Promotion/Transfer details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion2" *ngIf="promotion">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsepromotion" aria-expanded="false" aria-controls="collapsetpd"
                    style="color: #fff;">
                    Promotion Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsepromotion" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion2">
                <div class="card-body">
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-promotion">Add
                    Promotion</button>
                  <!-- history -->
                  <div *ngIf="promotionData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Officer ID</th>
                            <th>Current Grade</th>
                            <th>Promoted to Grade</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of promotionData; let i=index">
                            <td>{{i + 1}}</td>
                            <td>{{data.transferOrPostingEmployeesList[0]?.fullName}}</td>
                            <td>{{data.transferOrPostingEmployeesList[0]?.employeeId}}</td>
                            <td>{{cgrade(data.transferOrPostingEmployeesList[0]?.promotionGrade)}}</td>
                            <td>{{cgrade(data.transferOrPostingEmployeesList[0]?.promotedGrade)}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td><span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span></td>
                            <td>{{data.approvalStatus ? 'Approved' : 'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion3" *ngIf="leave">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseleave" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Leave Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseleave" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion3">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/apply-leave">Apply Leave</button>
                  <div *ngIf="leaveTabledata.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th> Name</th>
                            <th>Officer ID</th>
                            <th>Batch</th>
                            <th>Type of Leave</th>
                            <th>From Date</th>
                            <th>End Date</th>
                            <th>Foreign Visit / <br> DEFT Country </th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of leaveTabledata; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.fullName}}</td>
                            <td>{{data.employeeId}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.typeOfLeave}}</td>
                            <td>{{data.fromDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.endDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.foreignVisitOrDeftCountry}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td><span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span></td>
                            <td>{{data.approvalStatus? 'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion4" *ngIf="training">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsetraining" aria-expanded="false" aria-controls="collapsetpd"
                    style="color: #fff;">
                    Training Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsetraining" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion4">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-training">Add Training</button>
                  <div *ngIf="trainingTabledata.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th> Name</th>
                            <th>Officer ID</th>
                            <th>Batch</th>
                            <th>Type of <br> Training</th>
                            <th>From Date</th>
                            <th>End Date</th>
                            <th>Foreign Visit / <br> DEFT Country </th>
                            <th>Name of Training <br> Institute </th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of trainingTabledata; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.fullName}}</td>
                            <td>{{data.employeeId}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.typeOfTraining}}</td>
                            <td>{{data.fromDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.endDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.foreignVisitOrDeftCountry}}</td>
                            <td>{{data.nameOfInstitute}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td><span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span></td>
                            <td>{{data.approvalStatus ? 'Approved' : 'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion5" *ngIf="foriegnvisit">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsefv" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Foreign Visit Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsefv" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion5">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-foreign-visit">Add Foreign
                    visit</button>
                  <div *ngIf="foriegnVisitdata.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th> Country </th>
                            <th>From </th>
                            <th>To </th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>

                        </thead>
                        <tbody>
                          <tr *ngFor="let data of foriegnVisitdata; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.proposedCountry}}</td>
                            <td>{{data.fromDate | date:'dd/MM/YYYY'}}</td>
                            <td>{{data.toDate | date:'dd/MM/YYYY'}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus ? 'Approved' : 'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>
          <!-- in popup  -->
          <div id="accordion6" *ngIf="SAF">
            
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseSAF" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    SAF Games Village Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseSAF" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion6">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-saf-games-village">Add
                    SAF</button>
                  <div *ngIf="SAF_data.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th> Name</th>
                            <!-- <th>Department</th> -->
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Applied On </th>
                            <!-- <th>Applied Time</th> -->
                            <th>Seniority No.</th>
                            <th>Waiting Period</th>
                            <th>Status</th>
                            <th>Submitted By</th>
                            <th>Approved By</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of SAF_data; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <!-- <td>{{data.department}}</td> -->
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.appliedOn | date:'dd-MM-yyyy'}} {{data.appliedTime}}</td>
                            <td>{{data.seniorityNumber}}</td>
                            <td>{{data.waitingPeriod}}</td>
                            <td>{{data.applicationStatus}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>

                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion7" *ngIf="LTC">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseLTC" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    LTC Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseLTC" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion7">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-ltc">Add LTC</button>
                  <div *ngIf="LTC_data.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name </th>
                            <th>Batch</th>
                            <th>LTC Availed for <br>the Block Year</th>
                            <th>From Place</th>
                            <th>To Place</th>
                            <th>From </th>
                            <th>To</th>
                            <th>Self / Family</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of LTC_data; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <!-- <td>{{data.designation}}</td> -->
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.blockYear}}</td>
                            <td>{{data.fromPlace}}</td>
                            <td>{{data.toPlace}}</td>
                            <td>{{data.fromDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.toDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.selfOrFamily}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus ? 'Approve':'Not Approved'}}</td>

                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion8" *ngIf="medical">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsemedical" aria-expanded="false" aria-controls="collapsetpd"
                    style="color: #fff;">
                    Medical Reimbursement Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsemedical" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion8">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-medical-reimbursement">Add
                    Medical</button>
                  <div *ngIf="medicalData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name </th>
                            <th>Batch</th>
                            <th>Total Cost</th>
                            <th>Status</th>
                            <th>Self / Family</th>
                            <th>Date of the Application</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of medicalData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.totalCostOfMedicalReimbursement}}</td>
                            <td>{{data.dmeConcurranceStatus}}</td>
                            <td>{{data.selfOrFamily}}</td>
                            <td>{{data.dateOfApplication | date:'dd/MM/yyyy'}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus ? 'Approved' : 'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion9" *ngIf="privatevisit">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsepv" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Private Visit Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsepv" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion9">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-private">Add Private
                    visit</button>
                  <div *ngIf="privatevisitData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Proposed Place Visit</th>
                            <th>From </th>
                            <th>To </th>
                            <th>Self / Family</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of privatevisitData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.proposedCountry}}</td>
                            <td>{{data.fromDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.toDate | date:'dd/MM/yyyy'}}</td>
                            <td>{{data.selfOrFamily}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus ? 'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion10" *ngIf="imasset">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseima" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Immovable Assets Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseima" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion10">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-immovable">Add
                    Immovable</button>
                  <div *ngIf="imassetData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name </th>
                            <th>Department</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Property Type </th>
                            <th>Source of Funding</th>
                            <th>Total Cost</th>
                            <th>Bought From Name</th>
                            <th>Contact </th>
                            <th>Self / Family</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of imassetData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.department}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.typeOfImmovableProperty}}</td>
                            <td>{{data.sourceOfFunding}}</td>
                            <td>{{data.totalCostOfProperty}}</td>
                            <td>{{data.boughtFromName}}</td>
                            <td>{{data.boughtFromContactNumber}}</td>
                            <td>{{data.selfOrFamily}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus?'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion11" *ngIf="massest">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapsema" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Movable Assets Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapsema" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion11">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-movable">Add Movable</button>
                  <div *ngIf="massestData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name </th>
                            <th>Department</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Property Type </th>
                            <th>Source of Funding</th>
                            <th>Total Cost</th>
                            <th>Bought From Name</th>
                            <th>Contact </th>
                            <th>Self / Family</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of massestData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.department}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.typeOfMovableProperty}}</td>
                            <td>{{data.sourceOfFunding}}</td>
                            <td>{{data.totalCostOfProperty}}</td>
                            <td>{{data.boughtFromName}}</td>
                            <td>{{data.boughtFromContactNumber}}</td>
                            <td>{{data.selfOrFamily}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus?'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion12" *ngIf="education">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseEdu" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Education Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseEdu" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion12">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-education">Add Education</button>
                  <div *ngIf="educationData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Department</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of educationData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.department}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus? 'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>

          <div id="accordion13" *ngIf="intimation">
            <div class="card mt-3">
              <div class="card-header p-0" id="headingTwo" style="background-color: #007bff;">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed p-2 w-100 text-left" data-toggle="collapse"
                    data-target="#collapseInt" aria-expanded="false" aria-controls="collapsetpd" style="color: #fff;">
                    Intimation Details <i class="mdi mdi-chevron-down float-right"></i>
                  </button>
                </h5>
              </div>
              <div id="collapseInt" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion13">
                <div class="card-body">
                  <!-- history -->
                  <button class="float-right btn btn-success btn-sm mt-1 mb-1" routerLink="/create-intimation">Add
                    Intimation</button>
                  <div *ngIf="intimationData.length > 0; else noPreviousDetails">
                    <div class="table-responsive">
                      <table id="table-to-export"
                        class="table table-bordered table-striped table-hover my-4 float-left">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Department</th>
                            <th>Designation</th>
                            <th>Batch</th>
                            <th>Details of <br>Intimation</th>
                            <th>Source of <br>Funding</th>
                            <th>Type of <br> Intimation</th>
                            <th>Previous <br> Sanction Order</th>
                            <th>Submitted By </th>
                            <th>Approved By</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let data of intimationData; let i = index">
                            <td>{{i + 1}}</td>
                            <td>{{data.officerName}}</td>
                            <td>{{data.department}}</td>
                            <td>{{data.designation}}</td>
                            <td>{{data.employeeProfileId?.batch}}</td>
                            <td>{{data.detailsOfIntimation}}</td>
                            <td>{{data.fundSource}}</td>
                            <td>{{data.typeOfIntimation}}</td>
                            <td>{{data.previousSanctionOrder}}</td>
                            <td>{{ data.submittedBy?.username}} ({{ data.submittedBy?.loginAs}})</td>
                            <td> <span *ngIf="data.approvalStatus">{{data.approvedBy?.username}} ({{
                                data.approvedBy?.loginAs}})</span> </td>
                            <td>{{data.approvalStatus? 'Approved':'Not Approved'}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <ng-template #noPreviousDetails>
                    <div style="color: red;">No previous details available.</div>
                  </ng-template>
                </div>
              </div>
            </div>
          </div>



        </div>
      </div>
    </ng-template>
    <ng-template #usernotavailable>
      <div class="modal-body p-3">
        <h4>User Detail Not Available</h4>
      </div>
    </ng-template>

    <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary p-2" data-dismiss="modal">Cancel</button>
      </div> -->
  </div>
</div>